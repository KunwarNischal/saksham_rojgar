{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nischal%20Kunwar/Desktop/job_portal_nextjs/frontend/components/Sidebar.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { useState } from \"react\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\n\r\nexport default function Sidebar({ role }) {\r\n  const pathname = usePathname();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const { logout } = useAuth();\r\n\r\n  const menuItems = {\r\n    jobseeker: [\r\n      { \r\n        icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" /></svg>, \r\n        label: \"Dashboard\", \r\n        href: \"/jobseeker/dashboard\" \r\n      },\r\n      { \r\n        icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" /></svg>, \r\n        label: \"Profile\", \r\n        href: \"/jobseeker/profile\" \r\n      },\r\n      { \r\n        icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" /></svg>, \r\n        label: \"Applied Jobs\", \r\n        href: \"/jobseeker/applied\" \r\n      },\r\n      { \r\n        icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" /></svg>, \r\n        label: \"Browse Jobs\", \r\n        href: \"/jobseeker/browse\" \r\n      },\r\n    ],\r\n    employer: [\r\n      { \r\n        icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" /></svg>, \r\n        label: \"Dashboard\", \r\n        href: \"/employer/dashboard\" \r\n      },\r\n      { \r\n        icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" /></svg>, \r\n        label: \"Post Job\", \r\n        href: \"/employer/post-job\" \r\n      },\r\n      { \r\n        icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" /></svg>, \r\n        label: \"Manage Jobs\", \r\n        href: \"/employer/manage-jobs\" \r\n      },\r\n      { \r\n        icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" /></svg>, \r\n        label: \"Applicants\", \r\n        href: \"/employer/applicants\" \r\n      },\r\n    ],\r\n    admin: [\r\n      { \r\n        icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" /></svg>, \r\n        label: \"Dashboard\", \r\n        href: \"/admin/dashboard\" \r\n      },\r\n      { \r\n        icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" /></svg>, \r\n        label: \"All Users\", \r\n        href: \"/admin/users\" \r\n      },\r\n      { \r\n        icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" /></svg>, \r\n        label: \"All Jobs\", \r\n        href: \"/admin/jobs\" \r\n      },\r\n      { \r\n        icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" /></svg>, \r\n        label: \"Analytics\", \r\n        href: \"/admin/analytics\" \r\n      },\r\n    ],\r\n  };\r\n\r\n  const items = menuItems[role] || [];\r\n\r\n  return (\r\n    <>\r\n      {/* Mobile Toggle Button */}\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"lg:hidden fixed bottom-4 right-4 z-50 bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700\"\r\n      >\r\n        <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n          {isOpen ? (\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n          ) : (\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n          )}\r\n        </svg>\r\n      </button>\r\n\r\n      {/* Sidebar */}\r\n      <div className={`\r\n        fixed lg:static inset-y-0 left-0 z-40\r\n        w-64 bg-white border-r min-h-screen p-4\r\n        transform transition-transform duration-300 ease-in-out\r\n        ${isOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\r\n      `}>\r\n        <div className=\"space-y-2\">\r\n        {items.map((item) => (\r\n          <Link\r\n            key={item.href}\r\n            href={item.href}\r\n            onClick={() => setIsOpen(false)}\r\n            className={`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${\r\n              pathname === item.href\r\n                ? \"bg-blue-600 text-white\"\r\n                : \"text-gray-700 hover:bg-blue-50\"\r\n            }`}\r\n          >\r\n            {item.icon}\r\n            <span className=\"font-medium\">{item.label}</span>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"mt-8 pt-8 border-t\">\r\n        <button\r\n          onClick={() => {\r\n            setIsOpen(false);\r\n            logout();\r\n          }}\r\n          className=\"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors\"\r\n        >\r\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n          </svg>\r\n          <span className=\"font-medium\">Logout</span>\r\n        </button>\r\n      </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS,QAAQ,EAAE,IAAI,EAAE;IACtC,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,6IAAO;IAE1B,MAAM,YAAY;QAChB,WAAW;YACT;gBACE,oBAAM,8OAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BAAY,cAAA,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;gBAC1J,OAAO;gBACP,MAAM;YACR;YACA;gBACE,oBAAM,8OAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BAAY,cAAA,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;gBAC1J,OAAO;gBACP,MAAM;YACR;YACA;gBACE,oBAAM,8OAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BAAY,cAAA,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;gBAC1J,OAAO;gBACP,MAAM;YACR;YACA;gBACE,oBAAM,8OAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BAAY,cAAA,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;gBAC1J,OAAO;gBACP,MAAM;YACR;SACD;QACD,UAAU;YACR;gBACE,oBAAM,8OAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BAAY,cAAA,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;gBAC1J,OAAO;gBACP,MAAM;YACR;YACA;gBACE,oBAAM,8OAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BAAY,cAAA,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;gBAC1J,OAAO;gBACP,MAAM;YACR;YACA;gBACE,oBAAM,8OAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BAAY,cAAA,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;gBAC1J,OAAO;gBACP,MAAM;YACR;YACA;gBACE,oBAAM,8OAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BAAY,cAAA,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;gBAC1J,OAAO;gBACP,MAAM;YACR;SACD;QACD,OAAO;YACL;gBACE,oBAAM,8OAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BAAY,cAAA,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;gBAC1J,OAAO;gBACP,MAAM;YACR;YACA;gBACE,oBAAM,8OAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BAAY,cAAA,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;gBAC1J,OAAO;gBACP,MAAM;YACR;YACA;gBACE,oBAAM,8OAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BAAY,cAAA,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;gBAC1J,OAAO;gBACP,MAAM;YACR;YACA;gBACE,oBAAM,8OAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BAAY,cAAA,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;gBAC1J,OAAO;gBACP,MAAM;YACR;SACD;IACH;IAEA,MAAM,QAAQ,SAAS,CAAC,KAAK,IAAI,EAAE;IAEnC,qBACE;;0BAEE,8OAAC;gBACC,SAAS,IAAM,UAAU,CAAC;gBAC1B,WAAU;0BAEV,cAAA,8OAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,SAAQ;oBAAY,QAAO;8BAC7D,uBACC,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;6CAErE,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;;;;;;0BAM3E,8OAAC;gBAAI,WAAW,CAAC;;;;QAIf,EAAE,SAAS,kBAAkB,qCAAqC;MACpE,CAAC;;kCACC,8OAAC;wBAAI,WAAU;kCACd,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,uKAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,SAAS,IAAM,UAAU;gCACzB,WAAW,CAAC,mEAAmE,EAC7E,aAAa,KAAK,IAAI,GAClB,2BACA,kCACJ;;oCAED,KAAK,IAAI;kDACV,8OAAC;wCAAK,WAAU;kDAAe,KAAK,KAAK;;;;;;;+BAVpC,KAAK,IAAI;;;;;;;;;;kCAepB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BACC,SAAS;gCACP,UAAU;gCACV;4BACF;4BACA,WAAU;;8CAEV,8OAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CACjE,cAAA,8OAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;8CAEvE,8OAAC;oCAAK,WAAU;8CAAc;;;;;;;;;;;;;;;;;;;;;;;;;AAMxC"}},
    {"offset": {"line": 455, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nischal%20Kunwar/Desktop/job_portal_nextjs/frontend/components/ProtectedRoute.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\n\r\nexport default function ProtectedRoute({ children, allowedRoles = [] }) {\r\n  const { user, isAuthenticated, loading } = useAuth();\r\n  const router = useRouter();\r\n  const [isChecking, setIsChecking] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Double check localStorage directly\r\n    const token = typeof window !== 'undefined' ? localStorage.getItem('token') : null;\r\n    const storedUser = typeof window !== 'undefined' ? localStorage.getItem('user') : null;\r\n    \r\n    if (!loading) {\r\n      // If no token or user in localStorage OR not authenticated in context, redirect to login\r\n      if (!token || !storedUser || !isAuthenticated || !user) {\r\n        router.replace(\"/login\");\r\n        return;\r\n      }\r\n\r\n      // Parse stored user to verify\r\n      const parsedUser = storedUser ? JSON.parse(storedUser) : null;\r\n\r\n      // If role-based access is defined and user doesn't have the right role\r\n      if (allowedRoles.length > 0 && parsedUser && !allowedRoles.includes(parsedUser?.role)) {\r\n        // Redirect to appropriate dashboard based on user role\r\n        switch (parsedUser?.role) {\r\n          case \"jobseeker\":\r\n            router.replace(\"/jobseeker/dashboard\");\r\n            break;\r\n          case \"employer\":\r\n            router.replace(\"/employer/dashboard\");\r\n            break;\r\n          case \"admin\":\r\n            router.replace(\"/admin/dashboard\");\r\n            break;\r\n          default:\r\n            router.replace(\"/\");\r\n        }\r\n        return;\r\n      }\r\n\r\n      setIsChecking(false);\r\n    }\r\n  }, [isAuthenticated, user, allowedRoles, router, loading]);\r\n\r\n  // Show loading while checking auth\r\n  if (loading || isChecking) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,eAAe,EAAE,QAAQ,EAAE,eAAe,EAAE,EAAE;IACpE,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,OAAO,EAAE,GAAG,IAAA,6IAAO;IAClD,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,IAAA,kNAAS,EAAC;QACR,qCAAqC;QACrC,MAAM,QAAQ,sCAAgC,0BAAgC;QAC9E,MAAM,aAAa,sCAAgC,0BAA+B;QAElF,IAAI,CAAC,SAAS;YACZ,yFAAyF;YACzF,wCAAwD;gBACtD,OAAO,OAAO,CAAC;gBACf;YACF;;;YAEA,8BAA8B;YAC9B,MAAM;QAsBR;IACF,GAAG;QAAC;QAAiB;QAAM;QAAc;QAAQ;KAAQ;IAEzD,mCAAmC;IACnC,IAAI,WAAW,YAAY;QACzB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;IAIrC;IAEA,qBAAO;kBAAG;;AACZ"}}]
}